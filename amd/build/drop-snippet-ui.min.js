define(["jquery"],function(a){function b(b,c){this._container=a(c),this._maker=b,this._init()}return b.prototype._container=null,b.prototype._appearanceNode=null,b.prototype._labelNode=null,b.prototype._actionTextNode=null,b.prototype._previewNode=null,b.prototype._actionTextNode=null,b.prototype._snippetNode=null,b.prototype._actionTextZoneNode=null,b.prototype._labelZoneNode=null,b.prototype._init=function(){this._appearanceNode=this.find("[name=displaytype]"),this._labelNode=this.find("[name=label]"),this._actionTextNode=this.find("[name=actiontext]"),this._snippetNode=this.find('[name="snippet"]'),this._previewNode=this.find(".preview"),this._labelZoneNode=this.find(".snippet-label"),this._actionTextZoneNode=this.find(".snippet-actiontext"),this._labelNode.attr("placeholder",this._maker.getDefaultLabel()),this._actionTextNode.attr("placeholder",this._maker.getDefaultActionText()),this._maker.setLabel(this._labelNode.val()),this._maker.setDisplayType(this._appearanceNode.val()),this._maker.setActionText(this._actionTextNode.val()),this._updateForm(),this._setListeners(),this.update()},b.prototype.find=function(a){return this._container.find(a)},b.prototype._setListeners=function(){this._appearanceNode.change(function(b){this._maker.setDisplayType(a(b.currentTarget).val()),this._updateForm(),this.update()}.bind(this)),this._labelNode.on("keyup",function(b){this._maker.setLabel(a(b.currentTarget).val()),this._updateForm(),this.update()}.bind(this)),this._actionTextNode.on("keyup",function(b){this._maker.setActionText(a(b.currentTarget).val()),this._updateForm(),this.update()}.bind(this))},b.prototype.update=function(){var a=this._maker.getDisplay();a.find("a, input").click(function(a){a.preventDefault()}),this._snippetNode.val(this._maker.getSnippet()),this._previewNode.html(a)},b.prototype._updateForm=function(){var a=this._appearanceNode.val();a==this._maker.IMAGEANDBUTTON?(this._labelZoneNode.hide(),this._actionTextZoneNode.show()):a==this._maker.TEXT?(this._labelZoneNode.show(),this._actionTextZoneNode.hide()):(this._labelZoneNode.hide(),this._actionTextZoneNode.hide())},b});