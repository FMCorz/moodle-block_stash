define(["core/templates","block_stash/dialogue-base","core/ajax"],function(a,b,c){function d(a,c,d){this.setTitle(d),this._courseid=a,this._type=c,b.prototype.constructor.apply(this,[])}return d.prototype=Object.create(b.prototype),d.prototype.constructor=d,d.prototype._courseid=null,d.prototype._type=null,d.prototype._render=function(){return c.call([{methodname:"block_stash_get_items",args:{courseid:this._courseid}}])[0].then(function(b){var c=b;c.type=this._type,a.render("block_stash/trade_item_picker",c).then(function(b,c){a.runTemplateJS(c),this._setDialogueContent(b),this.center()}.bind(this))}.bind(this))},d});